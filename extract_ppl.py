# import re
#
# def extract_ppl(file_path):
#     pattern = re.compile(r"ppl: (\d+\.\d+)")
#     ppl_values = []
#
#     with open(file_path, 'r') as file:
#         for line in file:
#             match = pattern.search(line)
#             if match:
#                 ppl = float(match.group(1))
#                 ppl_values.append(ppl)
#
#     return ppl_values
#
# # Replace 'path_to_your_file.txt' with the path to your text file
# #file_path = '/Users/maritina/Desktop/Uni/MachineTranslation/Exercises/mt-2024-exercise-4/mt-exercise-4/models/deen_transformer_pre/validations.txt'
# file_path = '/Users/maritina/Desktop/Uni/MachineTranslation/Exercises/mt-2024-exercise-4/mt-exercise-4/models/deen_transformer_post/validations.txt'
# ppl_values = extract_ppl(file_path)
# print("Extracted Perplexity Values:", ppl_values)

# import pandas as pd
#
# steps = [500, 1000, 1500, 2000, 2500, 3000, 3500, 4000, 4500, 5000, 5500, 6000, 6500, 7000, 7500, 8000, 8500, 9000, 9500, 10000, 10500, 11000, 11500, 12000, 12500, 13000, 13500, 14000, 14500, 15000, 15500, 16000, 16500, 17000, 17500, 18000, 18500, 19000, 19500, 20000, 20500, 21000, 21500, 22000, 22500, 23000, 23500, 24000, 24500, 25000, 25500, 26000, 26500, 27000, 27500, 28000, 28500, 29000, 29500, 30000, 30500, 31000, 31500, 32000, 32500, 33000, 33500, 34000, 34500, 35000, 35500, 36000, 36500, 37000, 37500, 38000, 38500, 39000, 39500, 40000, 40500]
#
# # Example perplexity values for each model
# baseline_ppl = [56.61, 49.93, 45.33, 35.25, 28.44, 25.79, 23.77, 22.4, 21.26, 19.87, 18.8, 17.61, 16.55, 15.42, 14.26, 13.3, 12.62, 12.25, 11.83, 11.48, 11.19, 10.82, 10.69, 10.58, 10.41, 10.24, 10.05, 9.97, 9.84, 9.75, 9.6, 9.41, 9.42, 9.41, 9.3, 9.22, 9.25, 9.12, 8.97, 8.92, 8.92, 8.95, 8.92, 8.86, 8.81, 8.75, 8.7, 8.66, 8.59, 8.68, 8.63, 8.57, 8.65, 8.55, 8.53, 8.42, 8.41, 8.38, 8.44, 8.44, 8.39, 8.34, 8.39, 8.23, 8.19, 8.33, 8.33, 8.33, 8.27, 8.24, 8.2, 8.12, 8.11, 8.25, 8.27, 8.13, 8.23, 8.1, 8.11, 8.15, 8.01]
# pre_norm_ppl = [44.84901, 30.79476, 26.38031, 23.58523, 21.73188, 20.28408, 19.06149, 17.94572, 17.01447, 15.7772, 14.4657, 13.37284, 12.78733, 12.18097, 11.60943, 11.22809, 11.00584, 10.93538, 10.70491, 10.54389, 10.358, 10.21412, 9.96151, 9.87453, 9.80694, 9.72816, 9.5513, 9.5176, 9.24019, 9.25282, 9.04349, 9.12821, 9.04062, 8.92029, 8.91209, 8.92246, 8.93168, 8.74679, 8.6451, 8.71824, 8.72506, 8.65052, 8.60376, 8.61156, 8.55778, 8.48322, 8.4912, 8.43265, 8.533, 8.45185, 8.34284, 8.37977, 8.36216, 8.31142, 8.29145, 8.19659, 8.22961, 8.31994, 8.23678, 8.25422, 8.18527, 8.20563, 8.14793, 8.12569, 8.20272, 8.15817, 8.19336, 8.1183, 8.12595, 8.07085, 8.0273, 8.04348, 8.12809, 8.11819, 8.01988, 8.03405, 8.00643, 8.03169, 7.99336, 7.9422]
# post_norm_ppl = [41.54493, 30.19187, 26.97018, 24.80326, 23.61248, 22.47599, 21.64169, 20.76, 20.40736, 19.974, 19.35368, 18.93948, 18.53297, 18.42545, 17.98101, 17.58655, 17.21326, 17.04825, 16.81131, 16.65994, 16.22839, 15.92102, 15.5738, 15.18554, 14.83231, 14.45208, 13.97981, 13.64555, 13.16718, 12.72994, 12.36043, 11.85, 11.80488, 11.61598, 11.42783, 11.21003, 11.16351, 10.94458, 10.60725, 10.52706, 10.4637, 10.47986, 10.31691, 10.20627, 10.23276, 10.03142, 9.9466, 9.93477, 9.84564, 9.87282, 9.71187, 9.61802, 9.63055, 9.66496, 9.54243, 9.31717, 9.3457, 9.35982, 9.37232, 9.38482, 9.30786, 9.23247, 9.21163, 9.04605, 9.00699, 9.10531, 9.0541, 9.15205, 9.08586, 8.91804, 8.88392, 8.82487, 8.75146, 8.80445, 8.88161, 8.74606, 8.71012, 8.67142, 8.6946, 8.63616, 8.56397]
#
#
# df = pd.DataFrame({
#     'Steps': steps,
#     'Baseline': baseline_ppl,
#     'Pre-Norm': pre_norm_ppl,
#     'Post-Norm': post_norm_ppl
# })
#
#
# df.to_excel('model_perplexities.xlsx', index=False)
#
# print("Excel file with perplexity values has been created successfully")
